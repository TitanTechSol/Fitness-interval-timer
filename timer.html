<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FIT</title>
<style>
  :root { 
    font-family: system-ui, sans-serif;
    /* Default Dark Theme */
    --bg-primary: #0f172a;
    --bg-secondary: #111827;
    --bg-tertiary: #1f2937;
    --text-primary: #e2e8f0;
    --text-secondary: #9ca3af;
    --text-accent: #93c5fd;
    --border: #334155;
    --border-light: #223;
    --shadow: rgba(0,0,0,.35);
    --warn: #fca5a5;
  }
  
  /* Light Theme */
  .theme-light {
    --bg-primary: #f8fafc;
    --bg-secondary: #ffffff;
    --bg-tertiary: #f1f5f9;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --text-accent: #3b82f6;
    --border: #cbd5e1;
    --border-light: #e2e8f0;
    --shadow: rgba(0,0,0,.1);
    --warn: #dc2626;
  }
  
  /* Blue Theme */
  .theme-blue {
    --bg-primary: #0c1222;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --text-primary: #e2e8f0;
    --text-secondary: #94a3b8;
    --text-accent: #60a5fa;
    --border: #475569;
    --border-light: #334155;
    --shadow: rgba(59,130,246,.2);
    --warn: #f87171;
  }
  
  /* Yellow Theme */
  .theme-yellow {
    --bg-primary: #1c1917;
    --bg-secondary: #292524;
    --bg-tertiary: #44403c;
    --text-primary: #fef3c7;
    --text-secondary: #d6d3d1;
    --text-accent: #fbbf24;
    --border: #57534e;
    --border-light: #44403c;
    --shadow: rgba(251,191,36,.2);
    --warn: #f59e0b;
  }
  
  /* Orange Theme */
  .theme-orange {
    --bg-primary: #1c1917;
    --bg-secondary: #292524;
    --bg-tertiary: #44403c;
    --text-primary: #fed7aa;
    --text-secondary: #d6d3d1;
    --text-accent: #fb923c;
    --border: #57534e;
    --border-light: #44403c;
    --shadow: rgba(251,146,60,.2);
    --warn: #ea580c;
  }
  
  body { 
    display:flex; 
    min-height:100svh; 
    align-items:center; 
    justify-content:center; 
    background:var(--bg-primary); 
    color:var(--text-primary); 
    margin:0; 
    padding:0; 
    overflow:hidden; 
  }
  .main-card { position: relative; background:var(--bg-secondary); padding:24px; border-radius:16px; box-shadow: 0 8px 30px var(--shadow); width:500px; overflow:hidden; }
  h1 { margin:0 0 10px; font-size:1.15rem; color:var(--text-accent); font-weight:600; }
  .time { font-variant-numeric: tabular-nums; font-size:3.2rem; text-align:center; margin:6px 0 12px; }
  .row { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
  button, input, select { font:inherit; padding:10px 14px; border-radius:10px; border:1px solid var(--border); background:var(--bg-tertiary); color:var(--text-primary); }
  button:hover { filter:brightness(1.1); cursor:pointer; }
  .settings-btn { position: absolute; top: 16px; right: 16px; width: 32px; height: 32px; padding: 6px; font-size: 16px; display: flex; align-items: center; justify-content: center; }
  .pill { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:var(--bg-primary); border:1px solid var(--border-light); color:var(--text-secondary); font-size:.9rem; }
  .muted { opacity:.75 }
  .stack { display:grid; gap:8px; }
  .footer { margin-top:10px; display:flex; justify-content:space-between; align-items:center; font-size:.9rem; color:var(--text-secondary); }
  .warn { color:var(--warn); }
  .time-input-group { display: flex; align-items: center; gap: 4px; }
  .time-input { width: 3rem; text-align: center; }
  .time-label { font-size: 0.85rem; color: var(--text-secondary); }
  .random-range { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
  .volume-slider { width: 120px; }
  .help-section { background:var(--bg-primary); padding:16px; border-radius:8px; margin-top:12px; border:1px solid var(--border); }
  .help-section h3 { margin:0 0 8px; font-size:.95rem; color:var(--text-accent); }
  .help-section p { margin:0 0 8px; font-size:.85rem; line-height:1.4; }
  .help-section ol { margin:0; padding-left:20px; font-size:.85rem; line-height:1.4; }
  .theme-selector { width: 140px; }
</style>
</head>
<body>
  <div class="main-card">
    <button id="settings" class="settings-btn">‚öôÔ∏è</button>
    
    <!-- Main Timer View -->
    <div id="mainView">
      <h1>FIT</h1>
      <div class="time" id="display">10:00</div>
      <div class="stack">
        <div class="row">
          <button id="start">Start</button>
          <button id="pause" disabled>Pause</button>
          <button id="stop">Stop</button>
        </div>
      </div>
      <div class="footer">
        <div>Intervals completed: <strong id="laps">0</strong></div>
        <div class="muted">Reset all, resets the counter.</div>
      </div>
    </div>

    <!-- Settings View -->
    <div id="settingsView" style="display: none;">
      <h1>Settings</h1>
      <div class="stack" style="margin-top: 20px;">
        <div class="row">
          <span class="pill">
            Length:
            <div class="time-input-group">
              <input id="hours" type="number" min="0" max="23" value="0" class="time-input" />
              <span class="time-label">h</span>
              <input id="minutes" type="number" min="0" max="59" value="10" class="time-input" />
              <span class="time-label">m</span>
              <input id="seconds" type="number" min="0" max="59" value="0" class="time-input" />
              <span class="time-label">s</span>
            </div>
          </span>
        </div>
        
        <div class="row">
          <label class="pill">
            <input id="randomMode" type="checkbox" /> Random time between:
          </label>
        </div>
        
        <div id="randomRangeInputs" class="row" style="display: none;">
          <span class="pill">
            <div class="random-range">
              <div class="time-input-group">
                <input id="randomMinHours" type="number" min="0" max="23" value="0" class="time-input" />
                <span class="time-label">h</span>
                <input id="randomMinMinutes" type="number" min="0" max="59" value="7" class="time-input" />
                <span class="time-label">m</span>
                <input id="randomMinSeconds" type="number" min="0" max="59" value="0" class="time-input" />
                <span class="time-label">s</span>
              </div>
              <span>-</span>
              <div class="time-input-group">
                <input id="randomMaxHours" type="number" min="0" max="23" value="0" class="time-input" />
                <span class="time-label">h</span>
                <input id="randomMaxMinutes" type="number" min="0" max="59" value="12" class="time-input" />
                <span class="time-label">m</span>
                <input id="randomMaxSeconds" type="number" min="0" max="59" value="0" class="time-input" />
                <span class="time-label">s</span>
              </div>
            </div>
          </span>
        </div>
        
        <div class="row">
          <label class="pill">
            <input id="sound" type="checkbox" checked /> Sound
          </label>
          <label class="pill">
            <input id="notify" type="checkbox" /> Desktop notice
          </label>
          <label class="pill">
            <input id="alwaysOnTop" type="checkbox" /> Always on top
          </label>
        </div>
        
        <div class="row">
          <span class="pill">
            Volume:
            <input id="volumeSlider" type="range" min="0" max="100" value="100" class="volume-slider" />
            <span id="volumeDisplay">100%</span>
          </span>
        </div>
        
        <div class="row">
          <span class="pill">
            Theme:
            <select id="themeSelector" class="theme-selector">
              <option value="dark">Dark</option>
              <option value="light">Light</option>
              <option value="blue">Blue</option>
              <option value="yellow">Yellow</option>
              <option value="orange">Orange</option>
            </select>
          </span>
        </div>
        
        <div class="row">
          <button id="test">Test Sound</button>
          <button id="openSoundsFolder">Open Audio Folder</button>
          <button id="reset">Reset All</button>
        </div>
        
        <div class="help-section">
          <h3>üìÅ Adding Custom Audio Files</h3>
          <p>You can add your own audio files to customize the timer sounds:</p>
          <ol>
            <li>Click "Open Audio Folder" above to open the sounds directory</li>
            <li>Navigate to either "Reason" or "Punishment" folder</li>
            <li>Add your .mp3 files to these folders</li>
            <li>Restart the app to load new audio files</li>
            <li>Use "Test Sound" to preview your custom sounds</li>
          </ol>
          <p><strong>Tip:</strong> Files should be in .mp3 format for best compatibility!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Audio elements for alarm sequence -->
  <audio id="startSound" preload="auto">
    <source src="sounds/Start.mp3" type="audio/mpeg">
  </audio>
  <audio id="reasonSound" preload="auto"></audio>
  <audio id="punishmentSound" preload="auto"></audio>

<script>
(() => {
  const { ipcRenderer } = require('electron');
  
  const display = document.getElementById('display');
  const lapsEl  = document.getElementById('laps');
  const startBtn= document.getElementById('start');
  const pauseBtn= document.getElementById('pause');
  const stopBtn = document.getElementById('stop');
  const settingsBtn = document.getElementById('settings');
  const mainView = document.getElementById('mainView');
  const settingsView = document.getElementById('settingsView');
  const resetBtn= document.getElementById('reset');
  const testBtn = document.getElementById('test');
  
  // Time input elements
  const hoursInp = document.getElementById('hours');
  const minsInp = document.getElementById('minutes');
  const secsInp = document.getElementById('seconds');
  
  // Random range elements
  const randomModeCb = document.getElementById('randomMode');
  const randomRangeInputs = document.getElementById('randomRangeInputs');
  const randomMinHours = document.getElementById('randomMinHours');
  const randomMinMinutes = document.getElementById('randomMinMinutes');
  const randomMinSeconds = document.getElementById('randomMinSeconds');
  const randomMaxHours = document.getElementById('randomMaxHours');
  const randomMaxMinutes = document.getElementById('randomMaxMinutes');
  const randomMaxSeconds = document.getElementById('randomMaxSeconds');
  
  // Other controls
  const soundCb = document.getElementById('sound');
  const notifyCb= document.getElementById('notify');
  const alwaysOnTopCb = document.getElementById('alwaysOnTop');
  const volumeSlider = document.getElementById('volumeSlider');
  const volumeDisplay = document.getElementById('volumeDisplay');
  const themeSelector = document.getElementById('themeSelector');
  const openSoundsFolderBtn = document.getElementById('openSoundsFolder');

  let totalSec = 10 * 60;     // default 10 min
  let remaining = totalSec;
  let timer = null;
  let laps = 0;
  let startAudio = null;
  let reasonAudio = null;
  let punishmentAudio = null;
  let masterVolume = 1.0; // 0.0 to 1.0
  
  // Settings object to store all preferences
  const settings = {
    hours: 0,
    minutes: 10,
    seconds: 0,
    randomMode: false,
    randomMinHours: 0,
    randomMinMinutes: 7,
    randomMinSeconds: 0,
    randomMaxHours: 0,
    randomMaxMinutes: 12,
    randomMaxSeconds: 0,
    sound: true,
    notify: false,
    alwaysOnTop: false,
    volume: 100,
    theme: 'dark'
  };
  
  // Dynamically load audio files from folders using Node.js
  const fs = require('fs');
  const path = require('path');
  let reasonFiles = [];
  let punishmentFiles = [];

  // Load and save settings to localStorage
  function loadSettings() {
    const saved = localStorage.getItem('fitTimerSettings');
    if (saved) {
      Object.assign(settings, JSON.parse(saved));
      applySettings();
    }
  }
  
  function saveSettings() {
    localStorage.setItem('fitTimerSettings', JSON.stringify(settings));
  }
  
  function applySettings() {
    hoursInp.value = settings.hours;
    minsInp.value = settings.minutes;
    secsInp.value = settings.seconds;
    
    randomModeCb.checked = settings.randomMode;
    randomMinHours.value = settings.randomMinHours;
    randomMinMinutes.value = settings.randomMinMinutes;
    randomMinSeconds.value = settings.randomMinSeconds;
    randomMaxHours.value = settings.randomMaxHours;
    randomMaxMinutes.value = settings.randomMaxMinutes;
    randomMaxSeconds.value = settings.randomMaxSeconds;
    
    soundCb.checked = settings.sound;
    notifyCb.checked = settings.notify;
    alwaysOnTopCb.checked = settings.alwaysOnTop;
    volumeSlider.value = settings.volume;
    themeSelector.value = settings.theme;
    
    // Show/hide random range inputs
    randomRangeInputs.style.display = settings.randomMode ? 'flex' : 'none';
    
    // Apply volume
    masterVolume = settings.volume / 100;
    volumeDisplay.textContent = settings.volume + '%';
    
    // Apply theme
    document.body.className = settings.theme === 'dark' ? '' : `theme-${settings.theme}`;
    
    // Apply always on top
    if (typeof ipcRenderer !== 'undefined') {
      ipcRenderer.invoke('set-always-on-top', settings.alwaysOnTop);
    }
  }

  // Convert hours, minutes, seconds to total seconds
  function timeToSeconds(hours, minutes, seconds) {
    return (hours * 3600) + (minutes * 60) + seconds;
  }

  // Format seconds to HH:MM:SS or MM:SS
  function fmt(totalSeconds) {
    const hours = Math.floor(totalSeconds / 3600);
    const minutes = Math.floor((totalSeconds % 3600) / 60);
    const seconds = totalSeconds % 60;
    
    if (hours > 0) {
      return `${String(hours).padStart(2,'0')}:${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;
    } else {
      return `${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;
    }
  }

  function getRandomDuration() {
    const minSeconds = timeToSeconds(settings.randomMinHours, settings.randomMinMinutes, settings.randomMinSeconds);
    const maxSeconds = timeToSeconds(settings.randomMaxHours, settings.randomMaxMinutes, settings.randomMaxSeconds);
    
    // Ensure both min and max are at least 1 second
    const actualMin = Math.max(1, Math.min(minSeconds, maxSeconds));
    const actualMax = Math.max(1, Math.max(minSeconds, maxSeconds));
    
    // If both are the same, return that value
    if (actualMin === actualMax) return actualMax;
    
    // Generate random seconds between min and max (inclusive)
    return Math.floor(Math.random() * (actualMax - actualMin + 1)) + actualMin;
  }

  function setLengthFromInput() {
    return timeToSeconds(
      Math.max(0, parseInt(hoursInp.value || '0', 10)),
      Math.max(0, parseInt(minsInp.value || '0', 10)),
      Math.max(0, parseInt(secsInp.value || '0', 10))
    );
  }

  // Load audio files from folders
  function loadAudioFiles() {
    try {
      const reasonPath = path.join(__dirname, 'sounds', 'Reason');
      const punishmentPath = path.join(__dirname, 'sounds', 'Punishment');
      
      reasonFiles = fs.readdirSync(reasonPath).filter(file => file.endsWith('.mp3'));
      punishmentFiles = fs.readdirSync(punishmentPath).filter(file => file.endsWith('.mp3'));
      
      console.log(`Loaded ${reasonFiles.length} reason files and ${punishmentFiles.length} punishment files`);
    } catch (error) {
      console.error('Error loading audio files:', error);
      // Fallback to empty arrays if folders can't be read
      reasonFiles = [];
      punishmentFiles = [];
    }
  }

  // Initialize audio file lists
  loadAudioFiles();

  function render() { display.textContent = fmt(remaining); }

  function getCurrentDuration() {
    if (randomModeCb.checked) {
      return getRandomDuration();
    } else {
      const duration = setLengthFromInput();
      // Ensure minimum 1 second duration
      return Math.max(1, duration);
    }
  }

  function beep() {
    if (!soundCb.checked) return;
    
    // Check if we have audio files loaded
    if (reasonFiles.length === 0 || punishmentFiles.length === 0) {
      console.warn('No audio files loaded');
      return;
    }
    
    // Initialize audio elements if not already done
    if (!startAudio) {
      startAudio = document.getElementById('startSound');
      reasonAudio = document.getElementById('reasonSound');
      punishmentAudio = document.getElementById('punishmentSound');
    }
    
    // Set volume for all audio elements
    startAudio.volume = masterVolume;
    reasonAudio.volume = masterVolume;
    punishmentAudio.volume = masterVolume;
    
    // Select random files
    const randomReason = reasonFiles[Math.floor(Math.random() * reasonFiles.length)];
    const randomPunishment = punishmentFiles[Math.floor(Math.random() * punishmentFiles.length)];
    
    // Set sources for the random files
    reasonAudio.src = `sounds/Reason/${randomReason}`;
    punishmentAudio.src = `sounds/Punishment/${randomPunishment}`;
    
    // Play sequence: Start -> Reason -> Punishment
    playAudioSequence();
  }
  
  function playAudioSequence() {
    try {
      startAudio.currentTime = 0;
      
      // Play start sound first
      startAudio.play().then(() => {
        // When start finishes, play reason
        startAudio.addEventListener('ended', () => {
          reasonAudio.currentTime = 0;
          reasonAudio.play().then(() => {
            // When reason finishes, play punishment
            reasonAudio.addEventListener('ended', () => {
              punishmentAudio.currentTime = 0;
              punishmentAudio.play().catch(e => console.log('Punishment audio play failed:', e));
            }, { once: true });
          }).catch(e => console.log('Reason audio play failed:', e));
        }, { once: true });
      }).catch(e => console.log('Start audio play failed:', e));
      
    } catch (e) {
      console.log('Audio sequence error:', e);
    }
  }

  function notify() {
    if (!notifyCb.checked) return;
    if (Notification.permission === 'granted') {
      new Notification('Timer', { body: '10 minutes are up!' });
    } else if (Notification.permission !== 'denied') {
      Notification.requestPermission().then(p => { if (p==='granted') new Notification('Timer ready'); });
    }
  }

  function tick() {
    remaining--;
    render();
    document.title = `${fmt(remaining)} ‚Äî Timer`;
    if (remaining <= 0) {
      laps++;
      lapsEl.textContent = String(laps);
      beep(); notify();
      totalSec = getCurrentDuration(); // Get duration based on current mode
      remaining = totalSec; // auto-repeat with new time
      render();
    }
  }

  function start() {
    if (timer) return;
    // Use appropriate duration mode if starting fresh, otherwise keep current remaining time
    if (remaining === totalSec) {
      totalSec = getCurrentDuration();
      remaining = totalSec;
      render();
    }
    timer = setInterval(tick, 1000);
    startBtn.disabled = true;
    pauseBtn.disabled = false;
  }
  function pause() {
    if (!timer) return;
    clearInterval(timer); timer = null;
    startBtn.disabled = false;
    pauseBtn.disabled = true;
  }
  
  function stop() {
    pause();
    totalSec = getCurrentDuration();
    remaining = totalSec;
    render();
  }
  
  function reset() {
    pause();
    // Reset all settings to defaults
    settings.hours = 0;
    settings.minutes = 10;
    settings.seconds = 0;
    settings.randomMode = false;
    settings.randomMinHours = 0;
    settings.randomMinMinutes = 7;
    settings.randomMinSeconds = 0;
    settings.randomMaxHours = 0;
    settings.randomMaxMinutes = 12;
    settings.randomMaxSeconds = 0;
    settings.sound = true;
    settings.notify = false;
    settings.alwaysOnTop = false;
    settings.volume = 100;
    settings.theme = 'dark';
    
    applySettings();
    saveSettings();
    
    laps = 0;
    lapsEl.textContent = String(laps);
    // Reset timer
    totalSec = getCurrentDuration();
    remaining = totalSec;
    render();
  }
  
  function toggleSettings() {
    if (mainView.style.display === 'none') {
      // Show main view, hide settings
      mainView.style.display = 'block';
      settingsView.style.display = 'none';
    } else {
      // Show settings, hide main view
      mainView.style.display = 'none';
      settingsView.style.display = 'block';
    }
  }

  function updateSetting(key, value) {
    settings[key] = value;
    saveSettings();
  }
  
  function updateTimeSettings() {
    updateSetting('hours', parseInt(hoursInp.value || '0'));
    updateSetting('minutes', parseInt(minsInp.value || '0'));
    updateSetting('seconds', parseInt(secsInp.value || '0'));
  }
  
  function updateRandomRangeSettings() {
    updateSetting('randomMinHours', parseInt(randomMinHours.value || '0'));
    updateSetting('randomMinMinutes', parseInt(randomMinMinutes.value || '0'));
    updateSetting('randomMinSeconds', parseInt(randomMinSeconds.value || '0'));
    updateSetting('randomMaxHours', parseInt(randomMaxHours.value || '0'));
    updateSetting('randomMaxMinutes', parseInt(randomMaxMinutes.value || '0'));
    updateSetting('randomMaxSeconds', parseInt(randomMaxSeconds.value || '0'));
  }
  
  function onRandomModeChange() {
    const isRandom = randomModeCb.checked;
    updateSetting('randomMode', isRandom);
    randomRangeInputs.style.display = isRandom ? 'flex' : 'none';
    
    // Update timer duration
    totalSec = getCurrentDuration();
    remaining = totalSec;
    render();
  }
  
  function onVolumeChange() {
    const volume = parseInt(volumeSlider.value);
    updateSetting('volume', volume);
    masterVolume = volume / 100;
    volumeDisplay.textContent = volume + '%';
  }
  
  function onThemeChange() {
    const theme = themeSelector.value;
    updateSetting('theme', theme);
    document.body.className = theme === 'dark' ? '' : `theme-${theme}`;
  }
  
  async function onAlwaysOnTopChange() {
    const enabled = alwaysOnTopCb.checked;
    updateSetting('alwaysOnTop', enabled);
    if (typeof ipcRenderer !== 'undefined') {
      await ipcRenderer.invoke('set-always-on-top', enabled);
    }
  }
  
  async function openSoundsFolder() {
    if (typeof ipcRenderer !== 'undefined') {
      try {
        await ipcRenderer.invoke('open-sounds-folder');
      } catch (error) {
        console.error('Failed to open sounds folder:', error);
      }
    }
  }

  // Initialize
  loadSettings(); // Load saved settings first
  loadAudioFiles();
  
  // wire up
  totalSec = getCurrentDuration(); // Initialize with appropriate duration
  remaining = totalSec;
  render();
  
  // Time input event listeners
  hoursInp.addEventListener('change', () => {
    updateTimeSettings();
    if (!randomModeCb.checked) {
      totalSec = setLengthFromInput();
      remaining = totalSec;
      render();
    }
  });
  
  minsInp.addEventListener('change', () => {
    updateTimeSettings();
    if (!randomModeCb.checked) {
      totalSec = setLengthFromInput();
      remaining = totalSec;
      render();
    }
  });
  
  secsInp.addEventListener('change', () => {
    updateTimeSettings();
    if (!randomModeCb.checked) {
      totalSec = setLengthFromInput();
      remaining = totalSec;
      render();
    }
  });
  
  // Random range event listeners
  randomMinHours.addEventListener('change', updateRandomRangeSettings);
  randomMinMinutes.addEventListener('change', updateRandomRangeSettings);
  randomMinSeconds.addEventListener('change', updateRandomRangeSettings);
  randomMaxHours.addEventListener('change', updateRandomRangeSettings);
  randomMaxMinutes.addEventListener('change', updateRandomRangeSettings);
  randomMaxSeconds.addEventListener('change', updateRandomRangeSettings);
  
  randomModeCb.addEventListener('change', onRandomModeChange);
  
  soundCb.addEventListener('change', () => {
    updateSetting('sound', soundCb.checked);
  });
  
  notifyCb.addEventListener('change', () => {
    updateSetting('notify', notifyCb.checked);
  });
  
  alwaysOnTopCb.addEventListener('change', onAlwaysOnTopChange);
  volumeSlider.addEventListener('input', onVolumeChange);
  themeSelector.addEventListener('change', onThemeChange);
  openSoundsFolderBtn.addEventListener('click', openSoundsFolder);
  
  startBtn.addEventListener('click', start);
  pauseBtn.addEventListener('click', pause);
  stopBtn.addEventListener('click', stop);
  resetBtn.addEventListener('click', reset);
  settingsBtn.addEventListener('click', toggleSettings);
  testBtn.addEventListener('click', () => {
    beep(); // Test the audio sequence
  });

  // Initialize audio elements on first user interaction
  window.addEventListener('click', () => {
    if (!startAudio && soundCb.checked) {
      startAudio = document.getElementById('startSound');
      reasonAudio = document.getElementById('reasonSound');
      punishmentAudio = document.getElementById('punishmentSound');
      
      // Set initial volume
      startAudio.volume = masterVolume;
      reasonAudio.volume = masterVolume;
      punishmentAudio.volume = masterVolume;
    }
  }, { once: true });
})();
</script>
</body>
</html>
